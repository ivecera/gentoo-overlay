--- ./backend/src/CMakeLists.txt~	2013-07-24 20:05:42.000000000 +0100
+++ ./backend/src/CMakeLists.txt	2013-07-24 20:08:48.419665731 +0100
@@ -154,8 +154,8 @@
                       ${CMAKE_THREAD_LIBS_INIT}
                       ${CMAKE_DL_LIBS})
 
-install (TARGETS gbe LIBRARY DESTINATION lib)
-install (FILES ${pch_object} DESTINATION lib)
+install (TARGETS gbe LIBRARY DESTINATION ${LIB_INSTALL_DIR})
+install (FILES ${pch_object} DESTINATION ${LIB_INSTALL_DIR})
 install (FILES backend/program.h DESTINATION include/gen)
 
 set (PCH_OBJECT_DIR "${pch_object};${CMAKE_INSTALL_PREFIX}/lib/ocl_stdlib.h.pch")
--- ./utests/CMakeLists.txt~	2013-07-24 20:05:45.000000000 +0100
+++ ./utests/CMakeLists.txt	2013-07-24 20:13:23.441666449 +0100
@@ -130,7 +130,7 @@
 
 ADD_LIBRARY(utests SHARED ${utests_sources})
 
-TARGET_LINK_LIBRARIES(utests cl m ${OPENGL_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT})
+TARGET_LINK_LIBRARIES(utests OpenCL m ${OPENGL_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT})
 
 ADD_EXECUTABLE(utest_run utest_run.cpp)
 TARGET_LINK_LIBRARIES(utest_run utests)
--- ./src/CMakeLists.txt.orig	2013-09-22 22:34:43.056183413 +0100
+++ ./src/CMakeLists.txt	2013-09-22 22:36:38.494183714 +0100
@@ -48,9 +48,10 @@
 SET(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} -Wl,-Bsymbolic,--allow-shlib-undefined")
 
 link_directories (${LLVM_LIBRARY_DIR})
-add_library(cl SHARED ${OPENCL_SRC})
+add_library(OpenCL SHARED ${OPENCL_SRC})
+set_target_properties(OpenCL PROPERTIES VERSION 1.0.0 SOVERSION 1)
 target_link_libraries(
-                      cl
+                      OpenCL
                       gbe
                       ${XLIB_LIBRARY}
                       ${XEXT_LIBRARY}
@@ -59,4 +60,4 @@
                       ${DRM_LIBRARY}
                       ${OPENGL_LIBRARIES}
                       ${OPTIONAL_EGL_LIBRARY})
-install (TARGETS cl LIBRARY DESTINATION lib)
+install (TARGETS OpenCL LIBRARY DESTINATION ${LIB_INSTALL_DIR})
